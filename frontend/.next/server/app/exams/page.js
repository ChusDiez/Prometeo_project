(()=>{var e={};e.id=881,e.ids=[881],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3873:e=>{"use strict";e.exports=require("path")},9551:e=>{"use strict";e.exports=require("url")},5551:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>p,pages:()=>c,routeModule:()=>u,tree:()=>d});var o=r(260),s=r(8203),n=r(5155),i=r.n(n),a=r(7292),l={};for(let e in a)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>a[e]);r.d(t,l);let d=["",{children:["exams",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,1093)),"/Users/Chus/Desktop/Prometeo project/frontend/app/exams/page.jsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,6055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,9611)),"/Users/Chus/Desktop/Prometeo project/frontend/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,9937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,9116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,1485,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,6055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["/Users/Chus/Desktop/Prometeo project/frontend/app/exams/page.jsx"],p={require:r,loadChunk:()=>Promise.resolve()},u=new o.AppPageRouteModule({definition:{kind:s.RouteKind.APP_PAGE,page:"/exams/page",pathname:"/exams",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},4091:(e,t,r)=>{Promise.resolve().then(r.bind(r,1093))},7235:(e,t,r)=>{Promise.resolve().then(r.bind(r,2496))},4883:(e,t,r)=>{Promise.resolve().then(r.bind(r,9611))},539:(e,t,r)=>{Promise.resolve().then(r.bind(r,328))},9085:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,3219,23)),Promise.resolve().then(r.t.bind(r,4863,23)),Promise.resolve().then(r.t.bind(r,5155,23)),Promise.resolve().then(r.t.bind(r,802,23)),Promise.resolve().then(r.t.bind(r,9350,23)),Promise.resolve().then(r.t.bind(r,8530,23)),Promise.resolve().then(r.t.bind(r,8921,23))},1634:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,6959,23)),Promise.resolve().then(r.t.bind(r,3875,23)),Promise.resolve().then(r.t.bind(r,8903,23)),Promise.resolve().then(r.t.bind(r,7174,23)),Promise.resolve().then(r.t.bind(r,4178,23)),Promise.resolve().then(r.t.bind(r,7190,23)),Promise.resolve().then(r.t.bind(r,1365,23))},2496:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>h});var o=r(5512),s=r(8009),n=r(2273),i=r(9284);let a=(0,i.zD)("exam/fetchExamQuestions",async(e,{rejectWithValue:t})=>{try{let e=await fetch("https://prometeoproject-production.up.railway.app/api/exam/questions");if(!e.ok)throw Error("Error al cargar preguntas");return await e.json()}catch(e){return t(e.message)}}),l=(0,i.zD)("exam/submitExamAnswers",async(e,{rejectWithValue:t})=>{try{let t=await fetch("https://prometeoproject-production.up.railway.app/api/exam/submit-answers",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw Error("Error al enviar respuestas");return await t.json()}catch(e){return t(e.message)}}),d=(0,i.Z0)({name:"exam",initialState:{currentExam:null,questions:[],results:[],loading:!1,error:null},reducers:{startExam(e,t){e.currentExam=t.payload},submitAnswer(e,t){e.questions.push(t.payload)},setResults(e,t){e.results=t.payload},resetExam(e){e.currentExam=null,e.questions=[],e.results=[],e.loading=!1,e.error=null}},extraReducers:e=>{e.addCase(a.pending,e=>{e.loading=!0,e.error=null}).addCase(a.fulfilled,(e,t)=>{e.loading=!1,e.questions=t.payload}).addCase(a.rejected,(e,t)=>{e.loading=!1,e.error=t.payload||"Error al cargar preguntas"}).addCase(l.pending,e=>{e.loading=!0,e.error=null}).addCase(l.fulfilled,(e,t)=>{e.loading=!1,e.results.push({score:t.payload.score,totalQuestions:e.questions.length,timestamp:new Date().toISOString()})}).addCase(l.rejected,(e,t)=>{e.loading=!1,e.error=t.payload||"Error al enviar respuestas"})}}),{startExam:c,submitAnswer:p,setResults:u,resetExam:x}=d.actions;function h(){let e=(0,n.wA)(),{questions:t,loading:r,error:i,submitLoading:a,submitError:d,finalScore:c}=(0,n.d4)(e=>e.exam),[p,u]=(0,s.useState)({}),[x,h]=(0,s.useState)({}),[f,g]=(0,s.useState)(3e3),[b,v]=(0,s.useState)(!1),y=(0,s.useRef)([]);function j(e,t){b||u(r=>({...r,[e]:r[e]===t?null:t}))}function k(e,t){b||h(r=>({...r,[e]:r[e]===t?null:t}))}if(r)return(0,o.jsx)("div",{children:"Cargando preguntas..."});if(i)return(0,o.jsxs)("div",{children:["Error: ",i]});let C=t||[];return(0,o.jsxs)("div",{style:m.container,children:[(0,o.jsxs)("header",{style:m.header,children:[(0,o.jsx)("div",{style:m.logoArea,children:(0,o.jsx)("img",{src:"/logo.png",alt:"Mi Logo",style:{width:80,height:80,objectFit:"contain"}})}),(0,o.jsxs)("div",{style:m.examInfo,children:[(0,o.jsx)("h1",{style:m.title,children:"Mi Examen"}),(0,o.jsxs)("p",{style:m.timer,children:["Tiempo restante: ",function(e){let t=Math.floor(e/60);return`${String(t).padStart(2,"0")}:${String(e%60).padStart(2,"0")}`}(f)]})]})]}),(0,o.jsxs)("div",{style:m.mainContent,children:[(0,o.jsxs)("aside",{style:m.sidebar,children:[(0,o.jsx)("h3",{style:m.sidebarTitle,children:"Preguntas"}),(0,o.jsx)("div",{style:m.sidebarList,children:C.map((e,t)=>(0,o.jsx)("div",{style:m.sidebarItem,onClick:()=>{y.current[t]&&y.current[t].scrollIntoView({behavior:"smooth"})},children:t+1},t))})]}),(0,o.jsx)("div",{style:m.questionSection,children:C.map((e,t)=>(0,o.jsxs)("div",{ref:e=>y.current[t]=e,style:m.questionBox,children:[(0,o.jsxs)("h4",{style:m.questionText,children:["Pregunta ",t+1,":"]}),(0,o.jsx)("p",{style:m.questionText,children:e.text}),(0,o.jsxs)("div",{style:m.optionsContainer,children:[(0,o.jsxs)("label",{style:m.optionLabel,children:[(0,o.jsx)("input",{type:"checkbox",disabled:b,checked:"A"===p[e.id],onChange:()=>j(e.id,"A")}),e.option_a]}),(0,o.jsxs)("label",{style:m.optionLabel,children:[(0,o.jsx)("input",{type:"checkbox",disabled:b,checked:"B"===p[e.id],onChange:()=>j(e.id,"B")}),e.option_b]}),(0,o.jsxs)("label",{style:m.optionLabel,children:[(0,o.jsx)("input",{type:"checkbox",disabled:b,checked:"C"===p[e.id],onChange:()=>j(e.id,"C")}),e.option_c]})]}),(0,o.jsxs)("div",{style:m.confidenceContainer,children:[(0,o.jsxs)("div",{style:{...m.confidenceItem,border:"100"===x[e.id]?"2px solid #007aff":"1px solid #ccc"},onClick:()=>k(e.id,"100"),children:[(0,o.jsx)("img",{src:"/icons/100.png",alt:"100%",style:m.confidenceIcon}),(0,o.jsx)("span",{children:"100%"})]}),(0,o.jsxs)("div",{style:{...m.confidenceItem,border:"50"===x[e.id]?"2px solid #007aff":"1px solid #ccc"},onClick:()=>k(e.id,"50"),children:[(0,o.jsx)("img",{src:"/icons/50.png",alt:"50%",style:m.confidenceIcon}),(0,o.jsx)("span",{children:"50%"})]}),(0,o.jsxs)("div",{style:{...m.confidenceItem,border:"intuicion"===x[e.id]?"2px solid #007aff":"1px solid #ccc"},onClick:()=>k(e.id,"intuicion"),children:[(0,o.jsx)("img",{src:"/icons/intuicion.png",alt:"Intuici\xf3n",style:m.confidenceIcon}),(0,o.jsx)("span",{children:"Intuici\xf3n"})]}),(0,o.jsxs)("div",{style:{...m.confidenceItem,border:"azar"===x[e.id]?"2px solid #007aff":"1px solid #ccc"},onClick:()=>k(e.id,"azar"),children:[(0,o.jsx)("img",{src:"/icons/azar.png",alt:"Azar",style:m.confidenceIcon}),(0,o.jsx)("span",{children:"Azar"})]})]})]},e.id||t))})]}),(0,o.jsxs)("footer",{style:m.footer,children:[(0,o.jsx)("button",{style:m.submitButton,onClick:function(){e(l({examId:123,payload:{answers:p,confidence:x}}))},disabled:b||a,children:"Enviar Examen"}),d&&(0,o.jsxs)("p",{style:{color:"red"},children:["Error: ",d]}),null!==c&&(0,o.jsxs)("p",{children:["Nota final: ",c]})]})]})}d.reducer;let m={}},328:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>k});var o=r(5512),s=r(9284),n=r(9336),i=r(7754);let a=(0,s.Z0)({name:"theme",initialState:{isDarkMode:!1},reducers:{toggleTheme:e=>{e.isDarkMode=!e.isDarkMode}}}),{toggleTheme:l}=a.actions,d=a.reducer,c={key:"theme",storage:i.A},p=(0,n.rL)(c,d),u=(0,s.U1)({reducer:{theme:p},middleware:e=>e({serializableCheck:!1})}),x=(0,n.GM)(u);var h=r(2273),m=r(4107);function f({children:e}){return(0,o.jsx)(h.Kq,{store:u,children:(0,o.jsx)(m.Q,{loading:null,persistor:x,children:e})})}r(6080);var g=r(1654),b=r(9334),v=r(8009),y=r(5103);let j=()=>{let e=(0,b.useRouter)(),t=(0,g.j)(),r=(0,g.G)(e=>e.theme.isDarkMode);return(0,v.useEffect)(()=>{document.documentElement.setAttribute("data-theme",r?"dark":"light")},[r]),(0,o.jsxs)("header",{style:{position:"fixed",top:0,left:0,width:"100%",display:"flex",alignItems:"center",justifyContent:"space-between",padding:"15px 40px",zIndex:9999,backgroundColor:"var(--color-background)",borderBottom:"1px solid var(--color-border)",backdropFilter:"blur(5px)"},children:[(0,o.jsx)("button",{onClick:()=>e.push("/"),style:{background:"none",border:"none",cursor:"pointer",padding:0},children:(0,o.jsx)(y.default,{src:"https://iz.academy/wp-content/uploads/2022/06/Logo_ST_Black.png",alt:"Logo",style:{width:"100px",height:"auto",filter:r?"invert(1)":"none"},loader:({src:e})=>e})}),(0,o.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"20px"},children:[(0,o.jsx)("button",{onClick:()=>e.push("/"),style:{background:"none",border:"none",cursor:"pointer",padding:"8px",display:"flex",alignItems:"center",color:"var(--color-text)"}}),(0,o.jsx)("div",{style:{fontSize:"1.4rem",fontWeight:600,color:"var(--color-text)",letterSpacing:"0.5px"},children:"Proyecto Prometeo"}),(0,o.jsx)("button",{onClick:()=>{t(l()),localStorage.setItem("theme",r?"light":"dark")},style:{background:"none",border:"none",cursor:"pointer",fontSize:"1.5rem",padding:"0 5px",color:"var(--color-text)"},children:r?"\uD83C\uDF1E":"\uD83C\uDF19"})]})]})};function k({children:e}){let[t,r]=(0,v.useState)(!1);return t?(0,o.jsx)("html",{lang:"es",children:(0,o.jsx)("body",{style:{minHeight:"100vh",display:"flex",flexDirection:"column",paddingTop:"120px",backgroundColor:"var(--color-background)",color:"var(--color-text)"},children:(0,o.jsxs)(f,{children:[(0,o.jsx)(j,{}),e,(0,o.jsxs)("footer",{style:{marginTop:"auto",padding:"20px 40px",backgroundColor:"var(--color-background)",borderTop:"1px solid var(--color-border)",textAlign:"center",fontSize:"0.9rem",color:"var(--color-subtext)"},children:[(0,o.jsxs)("p",{children:["\xa9 ",new Date().getFullYear()," IZETA Academy. Todos los derechos reservados."]}),(0,o.jsxs)("div",{style:{marginTop:"8px"},children:[(0,o.jsx)("a",{href:"/privacidad",style:{color:"var(--color-subtext)",textDecoration:"none",margin:"0 10px"},children:"Privacidad"}),(0,o.jsx)("a",{href:"/terminos",style:{color:"var(--color-subtext)",textDecoration:"none",margin:"0 10px"},children:"T\xe9rminos"})]})]})]})})}):(0,o.jsx)("html",{lang:"es",children:(0,o.jsx)("body",{style:{visibility:"hidden",backgroundColor:"var(--color-background)"},children:(0,o.jsx)("div",{style:{width:"100vw",height:"100vh"}})})})}},1654:(e,t,r)=>{"use strict";r.d(t,{G:()=>n,j:()=>s});var o=r(2273);let s=()=>(0,o.wA)(),n=o.d4},1093:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});let o=(0,r(6760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/Chus/Desktop/Prometeo project/frontend/app/exams/page.jsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/Chus/Desktop/Prometeo project/frontend/app/exams/page.jsx","default")},9611:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});let o=(0,r(6760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/Chus/Desktop/Prometeo project/frontend/app/layout.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/Chus/Desktop/Prometeo project/frontend/app/layout.tsx","default")},6055:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});var o=r(8077);let s=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,o.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]},6080:()=>{}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),o=t.X(0,[638,691,77],()=>r(5551));module.exports=o})();